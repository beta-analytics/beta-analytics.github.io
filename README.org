#+TITLE: Hosting beta-analytics.com
#+DATE: Sun Oct 29 16:54:54 +0545 2017

* gitlab for static hosting
** .gitlab-ci.yml

   create job called =pages= deploy the website artifacts whenever a
   commit is pushed for details see [[https://docs.gitlab.com/ce/user/project/pages/introduction.html][GitLab Pages]]

** DNS configuration
*** DNS registrar

    create a dns entry to use the gitlab static page server

    | DNS | Host                                | Value                               |
    |-----+-------------------------------------+-------------------------------------|
    | A   | @                                   | 52.167.214.135                      |
    | TXT | _gitlab-pages-verification-code     | gitlab-pages-verification-code=1234 |
    | A   | www                                 | 52.167.214.135                      |
    | TXT | _gitlab-pages-verification-code.www | gitlab-pages-verification-code=1234 |

*** gitlab

    *Setting* > *Pages* > *New Domain*

    | domains                |
    |------------------------|
    | www.beta-analytics.com |
    | beta-analytics.com     |

    since [[https://about.gitlab.com/2018/02/21/pages-security-fix-rollout/][2018 March]] you have to verify ownership of your domain
    adding *TXT Records*

** caveat

   - no /https/, its a manual step till date (29 Oct 2017)

* Refrences

  - [[https://docs.gitlab.com/ce/user/project/pages/introduction.html][GitLab Pages]]
  - [[https://about.gitlab.com/2016/04/07/gitlab-pages-setup/#add-gitlab-ci][Hosting on GitLab.com with GitLab Pages]]
